{"ast":null,"code":"var _jsxFileName = \"/Users/miyashota/project/graphQL/client/src/components/MovieList.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useQuery, useMutation } from \"@apollo/client\";\nimport { Card, CardBody, Table, Button } from \"reactstrap\";\nimport { MOVIE_LIST, DELETE_MOVIE } from \"../queries/query\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MovieList = () => {\n  _s();\n\n  const {\n    loading,\n    error,\n    data\n  } = useQuery(MOVIE_LIST);\n  const {\n    deleteMutation\n  } = useMutation(DELETE_MOVIE, {\n    refetchQueries: [{\n      query: MOVIE_LIST\n    }],\n    awaitRefetchQueries: true\n  });\n\n  const handleDeleteMovie = id => {\n    deleteMutation({\n      variables: {\n        id\n      }\n    });\n  };\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 10\n    }, this);\n  } else if (error) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Error!!!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 10\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(Card, {\n      children: /*#__PURE__*/_jsxDEV(CardBody, {\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          hover: true,\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u30BF\\u30A4\\u30C8\\u30EB\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 27,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u30B8\\u30E3\\u30F3\\u30EB\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 28,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                colSpan: 2,\n                children: \"\\u76E3\\u7763\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 29,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 26,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 25,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: data.movies.map(({\n              id,\n              name,\n              genre,\n              director\n            }) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 35,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: genre\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 36,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: director.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 37,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  color: \"primary\",\n                  onClick: () => handleDeleteMovie(id),\n                  children: \"\\u524A\\u9664\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 39,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 38,\n                columnNumber: 10\n              }, this)]\n            }, id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 34,\n              columnNumber: 9\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 4\n    }, this);\n  }\n};\n\n_s(MovieList, \"aPjsXIv52WVx/PkGql8SJ8b+k58=\", false, function () {\n  return [useQuery, useMutation];\n});\n\n_c = MovieList;\nexport default MovieList;\n\nvar _c;\n\n$RefreshReg$(_c, \"MovieList\");","map":{"version":3,"sources":["/Users/miyashota/project/graphQL/client/src/components/MovieList.jsx"],"names":["React","useQuery","useMutation","Card","CardBody","Table","Button","MOVIE_LIST","DELETE_MOVIE","MovieList","loading","error","data","deleteMutation","refetchQueries","query","awaitRefetchQueries","handleDeleteMovie","id","variables","movies","map","name","genre","director"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,WAAnB,QAAsC,gBAAtC;AACA,SAASC,IAAT,EAAeC,QAAf,EAAyBC,KAAzB,EAAgCC,MAAhC,QAA8C,YAA9C;AACA,SAASC,UAAT,EAAqBC,YAArB,QAAyC,kBAAzC;;;AAEA,MAAMC,SAAS,GAAG,MAAM;AAAA;;AACvB,QAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA,KAAX;AAAkBC,IAAAA;AAAlB,MAA2BX,QAAQ,CAACM,UAAD,CAAzC;AACA,QAAM;AAAEM,IAAAA;AAAF,MAAqBX,WAAW,CAACM,YAAD,EAAe;AACpDM,IAAAA,cAAc,EAAE,CAAC;AAAEC,MAAAA,KAAK,EAAER;AAAT,KAAD,CADoC;AAEpDS,IAAAA,mBAAmB,EAAE;AAF+B,GAAf,CAAtC;;AAIA,QAAMC,iBAAiB,GAAIC,EAAD,IAAQ;AACjCL,IAAAA,cAAc,CAAC;AAAEM,MAAAA,SAAS,EAAE;AAAED,QAAAA;AAAF;AAAb,KAAD,CAAd;AACA,GAFD;;AAIA,MAAIR,OAAJ,EAAa;AACZ,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AACA,GAFD,MAEO,IAAIC,KAAJ,EAAW;AACjB,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AACA,GAFM,MAEA;AACN,wBACC,QAAC,IAAD;AAAA,6BACC,QAAC,QAAD;AAAA,+BACC,QAAC,KAAD;AAAO,UAAA,KAAK,MAAZ;AAAA,kCACC;AAAA,mCACC;AAAA,sCACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADD,eAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFD,eAGC;AAAI,gBAAA,OAAO,EAAE,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,kBADD,eAQC;AAAA,sBACEC,IAAI,CAACQ,MAAL,CAAYC,GAAZ,CAAgB,CAAC;AAAEH,cAAAA,EAAF;AAAMI,cAAAA,IAAN;AAAYC,cAAAA,KAAZ;AAAmBC,cAAAA;AAAnB,aAAD,kBAChB;AAAA,sCACC;AAAA,0BAAKF;AAAL;AAAA;AAAA;AAAA;AAAA,sBADD,eAEC;AAAA,0BAAKC;AAAL;AAAA;AAAA;AAAA;AAAA,sBAFD,eAGC;AAAA,0BAAKC,QAAQ,CAACF;AAAd;AAAA;AAAA;AAAA;AAAA,sBAHD,eAIC;AAAA,uCACC,QAAC,MAAD;AACC,kBAAA,KAAK,EAAC,SADP;AAEC,kBAAA,OAAO,EAAE,MAAML,iBAAiB,CAACC,EAAD,CAFjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,sBAJD;AAAA,eAASA,EAAT;AAAA;AAAA;AAAA;AAAA,oBADA;AADF;AAAA;AAAA;AAAA;AAAA,kBARD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,YADD;AAgCA;AACD,CAhDD;;GAAMT,S;UAC4BR,Q,EACNC,W;;;KAFtBO,S;AAkDN,eAAeA,SAAf","sourcesContent":["import React from \"react\";\nimport { useQuery, useMutation } from \"@apollo/client\";\nimport { Card, CardBody, Table, Button } from \"reactstrap\";\nimport { MOVIE_LIST, DELETE_MOVIE } from \"../queries/query\";\n\nconst MovieList = () => {\n\tconst { loading, error, data } = useQuery(MOVIE_LIST);\n\tconst { deleteMutation } = useMutation(DELETE_MOVIE, {\n\t\trefetchQueries: [{ query: MOVIE_LIST }],\n\t\tawaitRefetchQueries: true,\n\t});\n\tconst handleDeleteMovie = (id) => {\n\t\tdeleteMutation({ variables: { id } });\n\t};\n\n\tif (loading) {\n\t\treturn <p>Loading...</p>;\n\t} else if (error) {\n\t\treturn <p>Error!!!</p>;\n\t} else {\n\t\treturn (\n\t\t\t<Card>\n\t\t\t\t<CardBody>\n\t\t\t\t\t<Table hover>\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th>タイトル</th>\n\t\t\t\t\t\t\t\t<th>ジャンル</th>\n\t\t\t\t\t\t\t\t<th colSpan={2}>監督</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t{data.movies.map(({ id, name, genre, director }) => (\n\t\t\t\t\t\t\t\t<tr key={id}>\n\t\t\t\t\t\t\t\t\t<td>{name}</td>\n\t\t\t\t\t\t\t\t\t<td>{genre}</td>\n\t\t\t\t\t\t\t\t\t<td>{director.name}</td>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleDeleteMovie(id)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t削除\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</Table>\n\t\t\t\t</CardBody>\n\t\t\t</Card>\n\t\t);\n\t}\n};\n\nexport default MovieList;\n"]},"metadata":{},"sourceType":"module"}